{% extends "index-template.html" %}
{%block partialContent%}
<div class="row row-buffer">
    <div class="col-md-4 col-md-offset-4">
        <form id="registrationForm" enctype="application/x-www-form-urlencoded" method="post"
              data-toggle="validator" role="form" onsubmit="">
            <div class="form-group">
                <label id="firstnameLabel" class="control-label">Firstname</label>
                <input id="firstname" name="firstname"
                       value="{% if firstname%}{{firstname}}{%endif%}" type="text" class="form-control"
                       placeholder="Enter your first name" required/>
            </div>
            <div class="form-group">
                <label id="lastnameLabel" class="control-label">Lastname</label>
                <input id="lastname" name="lastname"
                       value="{% if lastname%}{{lastname}}{%endif%}" type="text"
                       placeholder="Enter your lastname" class="form-control" required/>
            </div>
            <div class="form-group">
                <label id="emailLabel" class="control-label">Email</label>
                <input id="email" name="email"
                       value="{% if email%}{{email}}{%endif%}" type="email"
                       data-error="Invalid email (max.mustermann@gmail.com)"
                       placeholder="Enter your email" class="form-control" required/>
            </div>
            <div class="form-group">
                <label id="usernameLabel" class="control-label">Username</label>
                <input id="username" name="username"
                       value="{% if username%}{{username}}{%endif%}" type="text"
                       placeholder="Enter your username" class="form-control" required/>
            </div>
            <div class="form-group">
                <label id="passwordLabel" class="control-label">Password</label>
                <input
                        id="password" name="password"
                        value="{% if password%}{{password}}{%endif%}" type="password" class="form-control"
                        placeholder="Enter your password" required/>
            </div>
            <div class="text-center">
                <button type="submit" class="btn btn-default" style="margin: 5px;">
                    Save
                </button>
                <button type="button" class="btn btn-default" style="margin: 5px;"
                        onclick="toUrl('/public/index.php?viewId={{viewId}}&actionId={{actionToLogin}}');">
                    Cancel
                </button>
            </div>
        </form>
        <div class="col-md-4"></div>
    </div>
</div>
<script type="text/javascript">
    // init validation on form and prepare for ajax submit
    $('#registrationForm').validator().on('submit', function (e) {
        if (!e.isDefaultPrevented()) {
            ajaxPostRequestSubmitForm('registrationForm', 'partialContent', 'index.php', 'viewId={{viewId}}&actionId={{actionRegister}}');
        }
        return false;
    })
</script>
{%endblock%}